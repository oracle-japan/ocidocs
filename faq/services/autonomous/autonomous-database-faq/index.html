<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ja" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Autonomous Database 技術FAQ | Oracle Cloud Infrastructure 活用資料集</title>
<meta name="description" content="Autonomous Database に関して、利用時のよくある質問に対する回答や、ノウハウ/Tipsについて記載しています。">


  <meta name="author" content="Oracle Japan Solution Engineers">
  
  <meta property="article:author" content="Oracle Japan Solution Engineers">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ja_JP">
<meta property="og:site_name" content="Oracle Cloud Infrastructure 活用資料集">
<meta property="og:title" content="Autonomous Database 技術FAQ">
<meta property="og:url" content="https://oracle-japan.github.io/ocidocs/faq/services/autonomous/autonomous-database-faq/">


  <meta property="og:description" content="Autonomous Database に関して、利用時のよくある質問に対する回答や、ノウハウ/Tipsについて記載しています。">



  <meta property="og:image" content="https://oracle-japan.github.io/ocidocs/assets/images/rh01-cloud-home-pine-background.jpg">





  <meta property="article:published_time" content="2023-03-09T00:00:00+09:00">






<link rel="canonical" href="https://oracle-japan.github.io/ocidocs/faq/services/autonomous/autonomous-database-faq/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://oracle-japan.github.io/ocidocs/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/ocidocs/feed.xml" type="application/atom+xml" rel="alternate" title="Oracle Cloud Infrastructure 活用資料集 Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/ocidocs/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--faq">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/ocidocs/"><img src="/ocidocs/assets/images/social-og-oracle-badge.jpg" alt="OCI活用資料集"></a>
        
        <a class="site-title" href="/ocidocs/">
          OCI活用資料集
          <span class="site-subtitle">Oracle Cloud Infrastructure を使い倒すための資料集</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/ocidocs/updates/">新機能</a>
            </li><li class="masthead__menu-item">
              <a href="/ocidocs/services/">サービス別資料</a>
            </li><li class="masthead__menu-item">
              <a href="/ocidocs/solutions/">ソリューション別資料</a>
            </li><li class="masthead__menu-item">
              <a href="/ocidocs/faqs/">技術FAQ</a>
            </li><li class="masthead__menu-item">
              <a href="/ocidocs/misc/">その他</a>
            </li><li class="masthead__menu-item">
              <a href="/ocidocs/links/">外部リンク</a>
            </li><li class="masthead__menu-item">
              <a href="/ocidocs/tags/">タグ</a>
            </li><li class="masthead__menu-item">
              <a href="/ocidocs/about/">このサイトについて</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">メニュー</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  







<div class="page__hero--overlay"
  style=" background-image: url('/ocidocs/assets/images/rh01-cloud-home-pine-background.jpg');"
>
  
    <div class="wrapper">
      <h1 id="page-title" class="page__title" itemprop="headline">
        
          Autonomous Database 技術FAQ

        
      </h1>
      
        <p class="page__lead">Autonomous Database に関する技術FAQです<br />サービス仕様に関する⼀般的な質問や、既知の問題については下記の外部リンクもご参照ください
</p>
      
      

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2023-03-09T00:00:00+09:00">March 9, 2023</time>
      </span>
    

    

    
  </p>


      
      
        <p>
        
          <a href="https://www.oracle.com/jp/database/technologies/datawarehouse-bigdata/adb-faqs.html" class="btn btn--light-outline btn--large">Autonomous Databaseに関するFAQ</a>
        
          <a href="https://docs.oracle.com/ja-jp/iaas/Content/knownissues.htm" class="btn btn--light-outline btn--large">既知の問題</a>
        
      
    </div>
  
  
    <span class="page__hero-caption"><a href="https://design.oracle.com/">Oracle Redwood</a>
</span>
  
</div>





<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">メニュー</label>
  <ul class="nav__items">
    
      <li>
        
          <a href="/ocidocs/updates/"><span class="nav__sub-title">新機能</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/ocidocs/services/"><span class="nav__sub-title">サービス別資料</span></a>
        

        
        <ul>
          
            <li><a href="/ocidocs/services/overall/">サービス全般</a></li>
          
            <li><a href="/ocidocs/services/compute/">コンピュート</a></li>
          
            <li><a href="/ocidocs/services/storage/">ストレージ</a></li>
          
            <li><a href="/ocidocs/services/networking/">ネットワーク</a></li>
          
            <li><a href="/ocidocs/services/database/">データベース</a></li>
          
            <li><a href="/ocidocs/services/developers/">開発者サービス</a></li>
          
            <li><a href="/ocidocs/services/edge/">エッジ・サービス</a></li>
          
            <li><a href="/ocidocs/services/security/">セキュリティ</a></li>
          
            <li><a href="/ocidocs/services/governance-and-administration/">ガバナンスと管理</a></li>
          
            <li><a href="/ocidocs/services/devtools/">開発ツール</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <a href="/ocidocs/solutions/"><span class="nav__sub-title">ソリューション別資料</span></a>
        

        
        <ul>
          
            <li><a href="/ocidocs/solutions/ha/">HA・DR・高可用性システム</a></li>
          
            <li><a href="/ocidocs/solutions/iam/">認証・認可・セキュリティ</a></li>
          
            <li><a href="/ocidocs/solutions/manageability/">運用・管理</a></li>
          
            <li><a href="/ocidocs/solutions/cloudnative/">Cloud Native</a></li>
          
            <li><a href="/ocidocs/solutions/blockchain/">Blockchain</a></li>
          
            <li><a href="/ocidocs/solutions/others/">その他</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <a href="/ocidocs/faqs/"><span class="nav__sub-title">技術FAQ</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/ocidocs/misc/"><span class="nav__sub-title">その他</span></a>
        

        
      </li>
    
      <li>
        
          <a href="/ocidocs/links/"><span class="nav__sub-title">外部リンク</span></a>
        

        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Autonomous Database 技術FAQ">
    <meta itemprop="description" content="Autonomous Database に関して、利用時のよくある質問に対する回答や、ノウハウ/Tipsについて記載しています。">
    <meta itemprop="datePublished" content="2023-03-09T00:00:00+09:00">
    

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> 目次</h4></header>
              <ul class="toc__menu"><li><a href="#-お知らせ2023年1月更新">■ お知らせ※2023年1月更新</a></li><li><a href="#-サービス概要編">■ サービス概要編</a></li><li><a href="#-課金ライセンス">■ 課金/ライセンス</a></li><li><a href="#-構成関連">■ 構成関連</a></li><li><a href="#-可用性関連">■ 可用性関連</a></li><li><a href="#-接続データロード連携関連">■ 接続・データロード/連携関連</a></li><li><a href="#-セキュリティ関連">■ セキュリティ関連</a></li><li><a href="#-オプション機能関連">■ オプション・機能関連</a></li><li><a href="#-運用管理監視関連">■ 運用管理・監視関連</a></li><li><a href="#-パッチメンテナンス関連">■ パッチ・メンテナンス関連</a></li><li><a href="#-性能検証編環境作成">■ 性能検証編(環境作成)</a></li><li><a href="#-性能検証編クエリ実行">■ 性能検証編(クエリ実行)</a></li><li><a href="#-その他-">■ その他 </a></li></ul>

            </nav>
          </aside>
        
        <h1 id="-お知らせ2023年1月更新"><span style="color: brown; ">■ お知らせ※2023年1月更新</span></h1>
<p><br /></p>

<p>現在Autonomous Database – Sharedへクライアント資格証明(ウォレット)を使用してDB接続を行っているユーザーは、2023/3/6までに新しいウォレットを再ダウンロードする必要があります。
既存のウォレットでは、アプリケーション、ツール、サービスが、2023/3/6以降Autonomous Database インスタンスに接続できなくなります。</p>

<p>ウォレットを使わないTLS接続でDB接続を行っているユーザーは、接続文字列の更新が必要な場合がありますのでご確認ください。</p>
<ul>
  <li>以下のようなOUフィールドの含まれていない接続文字列(新形式)を使用している場合、対応不要です</li>
  <li>2022年8月以降OCIコンソールもしくはAPI経由で取得可能な接続文字列は下記の新形式です</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">(description=(retry_count=20)(retry_delay=3)(address=(protocol=tcps)(port=1521)(host=adb.region.oraclecloud.com))
(connect_data=(service_name=u9adutfb2ba8x4d_database_medium.adb.oraclecloud.com))(security=(ssl_server_dn_match=yes)))</code></p>

<ul>
  <li>以下のようなOUフィールドの含まれている文字列(旧形式)では、3月6日以降接続ができなくなります</li>
  <li>2022年8月以前に取得した接続文字列は下記の旧形式です</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">(description= (retry_count=20)(retry_delay=3)(address=(protocol=tcps)(port=1521)(host=adb.region.oraclecloud.com))
(connect_data=(service_name=u9adutfb2ba8x4d_database_medium.adb.oraclecloud.com))
(security=(ssl_server_cert_dn="CN=adwc-preprod.uscom-east-1.oraclecloud.com, OU=Oracle BMCS US,O=Oracle Corporation, L=Redwood City, ST=California, C=US")))</code></p>

<ul>
  <li>OUフィールドの含まれている接続文字列を使用している場合、OCIコンソールもしくはAPI経由でOUフィールドの含まれていない新しい接続文字列を取得し、そちらに変更が必要です。</li>
</ul>

<p>2023年1月5日頃、Autonomous Database - Sharedをお使いのテナント管理者に以下のようなメールが送信されています。</p>

<p><img src="wallet_announcement.png" alt="wallet_announcement" /></p>

<h2 id="db接続でウォレットを利用しているユーザーが必要な対応">DB接続でウォレットを利用しているユーザーが必要な対応</h2>
<ol>
  <li>Oracle Clientを以下のバージョン以降であることを確認：新しいウォレットでの接続形式のサポートのため
    <ul>
      <li>アップデートが必要な場合にはご対応ください。</li>
      <li>Oracle Instant Client/Oracle Database Client: 18.19 またはそれ以降, 19.2 またはそれ以降, 21.0 またはそれ以降
 cx_Oracle, node-oracledb, godror, PHP OCI8, PHP PDO_OCI, ruby-oci8, ROracle, rust-oracleなどのOracle Database ドライバについては、上記のOracle Instant Client/Oracle Database Client バージョンで使用してください</li>
      <li>ODP.NET: 12.1（2022年4月以降WINDBBP、Managed ODP.NETのみ）、18（ベースリリース以降）、19.4（以降、19.10を除く）、21（ベースリリース以降）</li>
      <li>JDBC Thin: 11.2.0.4 またはそれ以降(Bug 28492769に対する単発パッチ適用が必要)、12.2 またはそれ以降(Bug 28492769に対する単発パッチ適用が必要) 、18.0 またはそれ以降(Bug 28492769 に対する単発パッチ適用が必要)、19.0 またはそれ以降、21.0 またはそれ以降</li>
      <li>Python: python-oracledb 1.0 (またはそれ以降)</li>
    </ul>
  </li>
  <li>2023年1月10日から2023年3月6日までの間にクライアントで使用するウォレットを差し替え
※ウォレットのローテーションは不要です。OCIコンソールよりウォレットを新たにダウンロードし、各クライアントに再配布してください。
設定方法は<a href="https://oracle-japan.github.io/ocitutorials/database/adb104-connect-using-wallet/">こちら</a>をご参照ください。</li>
</ol>

<ul>
  <li>上記の対応が難しい場合、設定によってはウォレットを使用しないTLS接続に変更することも可能です</li>
</ul>

<p>こちらの資料もご確認ください。</p>

<div style="max-width:768px">

<!-- Speakerdeckから Embeded リンクを取得して貼り付け (ここから) -->
<script async="" class="speakerdeck-embed" data-id="270b8fb99c8a4acd9fd98a7a04748826" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>
<!-- Speakerdeckから Embeded リンクを取得して貼り付け (ここまで) -->

</div>

<h2 id="本件はウォレットを使うその他のoracle-cloud-infrastructureのoracle-db-paasサービスも対象ですか">本件はウォレットを使うその他のOracle Cloud InfrastructureのOracle DB PaaSサービスも対象ですか？</h2>

<p>いいえ、Autonomous Database on Shared Infrastructureのみが対象です。</p>

<p><br /></p>

<h2 id="ウォレットのローテーションが必要ですか">ウォレットのローテーションが必要ですか？</h2>

<p>いいえ、ローテーションは必要ありません。
ウォレットの再ダウンロードを行い、クライアントに設定してください。</p>

<p><br /></p>

<h2 id="ウォレットの差し替えを行わないとどんな影響がありますか">ウォレットの差し替えを行わないとどんな影響がありますか？</h2>

<p>2023/3/6以降Autonomous Databaseに接続できなくなります。</p>

<p><br /></p>

<h2 id="本件についてのmos-noteはありますか">本件についてのMOS Noteはありますか？</h2>

<p><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?id=2911553.1">こちら</a>をご確認ください。</p>

<p><br /></p>

<h2 id="ociのコンソール画面に必須アクションchanges-to-databases-that-use-mtls-authentication-mos-doc-id-29115531-と表示されていますがこれは本件と関係ありますか">OCIのコンソール画面に<strong>必須アクション：</strong>Changes to Databases that use mTLS Authentication (MOS Doc ID 2911553.1) と表示されていますが、これは本件と関係ありますか？</h2>

<p>はい、本件はOCIの<strong>お知らせ</strong>でもアナウンスされています。</p>

<p><img src="oci_announcement.png" alt="oci_announcement" /></p>

<p><br /></p>

<h2 id="なぜ使用可能なクライアントのバージョンの制限があるのでしょうか">なぜ使用可能なクライアントのバージョンの制限があるのでしょうか？</h2>

<p>Autonomous Databaseは、mTLS接続文字列のssl_server_cert_dnプロパティに基づいてサーバーのDNマッチングを行っていましたが、このプロパティにはOrganization Unit(OU)フィールドが含まれています。今回、業界水準に準拠し、OUフィールドが使用不可になったため、サーバー側証明書からOUフィールドを削除しました。</p>

<p>Autonomous Databaseは、今後は接続文字列のhostプロパティに基づいてDNマッチングを行うことをサポートします。このアプローチをサポートしているクライアントのバージョンにアップデートする必要があります。</p>

<p><br /></p>

<h2 id="サポートされるodpnetは121のみ記載されていますが122を使用している場合はバージョンアップが必要ということですか">サポートされるODP.NETは12.1のみ記載されていますが、12.2を使用している場合は、バージョンアップが必要ということですか？</h2>

<p>はい、12.1限定となりますので、12.2をお使いの場合は19.4以降のバージョンへのバージョンアップが必要になります。</p>

<p><br /></p>

<h2 id="今すぐにはクライアントのバージョンアップが難しいですリストにないバージョンのクライアントでも接続はできますか">今すぐにはクライアントのバージョンアップが難しいです。リストにないバージョンのクライアントでも接続はできますか？</h2>

<p>基本的にはリストにあるバージョンのクライアントをお使いいただくことを推奨しております。しかし、リストにない11gや12cのクライアントでもバージョンによっては、接続可能なケースがございます。</p>

<p>今すぐのバージョンアップが難しい場合は、後のFAQで示している対応によってそれらのバージョンでお使いいただくことも可能ですが、運用上何か不具合が起きた際にSR等でお問合せいただいても、解決策としてクライアントのバージョンアップをまずはお願いする可能性があります。</p>

<p><br /></p>

<h2 id="ウォレット差し替え後リストにないバージョンのクライアントから接続しようとするとエラーが出て接続ができなくなりました">ウォレット差し替え後、リストにないバージョンのクライアントから接続しようとすると、エラーが出て、接続ができなくなりました。</h2>

<p>先のFAQにもある通り、基本的にクライアントのバージョンアップにてご対応をお願いいたします。対応が難しければ、以下の回避策がございます。</p>

<ul>
  <li>
    <p>ADBのネットワーク・アクセスが<code class="language-plaintext highlighter-rouge">すべての場所からのセキュア・アクセス</code>もしくは<code class="language-plaintext highlighter-rouge">許可されたIPおよびVCN限定のセキュア・アクセス</code>の場合</p>

    <p>以下の手順をお試しください。それでもなおエラーが出る場合は、クライアントのバージョンアップのご対応をお願いいたします。</p>
  </li>
</ul>

<ol>
  <li>
    <p>ADBインスタンスをTLSとmTLS認証の両方を許可する設定に変更します。ドキュメントは<a href="https://docs.oracle.com/cd//E83857_01/paas/autonomous-database/adbsa/support-tls-mtls-authentication.html">こちら</a></p>
  </li>
  <li>
    <p>sqlnet.oraとtnsnames.ora内のssl_server_dn_matchをyesからnoに変更</p>
  </li>
</ol>

<ul>
  <li>
    <p>ADBのネットワーク・アクセスが<code class="language-plaintext highlighter-rouge">プライベート・エンドポイント・アクセスのみ</code>の場合</p>

    <p>sqlnet.oraとtnsnames.ora内のssl_server_dn_matchがnoになっていることを確認します。それでもなおエラーが出る場合は、クライアントのバージョンアップのご対応をお願いいたします。</p>
  </li>
</ul>

<h2 id="プライベートエンドポイントアクセスのみのadbからプライベートエンドポイントアクセスのみのadbへのデータベースリンクを構成していますウォレットの差し替え後ora-29002ssl-transport-detected-invalid-or-obsolete-server-certificateというエラーが出ます">プライベート・エンドポイント・アクセスのみのADBから、プライベート・エンドポイント・アクセスのみのADBへのデータベース・リンクを構成しています。ウォレットの差し替え後、<code class="language-plaintext highlighter-rouge">ORA-29002：SSL transport detected invalid or obsolete server certificate.</code>というエラーが出ます。</h2>

<p>今回のウォレットの差し替えに際して、ご指摘の構成のデータベース・リンクではウォレットを使った接続がサポートされなくなりました。その構成でデータベース・リンクを使用する場合、ウォレットを使わない接続の利用を検討してください。詳細は<a href="https://docs.oracle.com/en/cloud/paas/autonomous-database/adbsa/database-links-oracledb-private.html#GUID-67B611A2-2866-49F2-A580-0D6A6EE83A04">こちら</a>をご参照ください。</p>

<p><br /></p>

<h1 id="-サービス概要編"><span style="color: brown; ">■ サービス概要編</span></h1>
<p><br /></p>

<h2 id="autonomous-databaseではexadataのモデルを選択できますか">Autonomous DatabaseではExadataのモデルを選択できますか？</h2>

<p>Share型とDedicated型で異なります。<br />
Shared型ではモデルを選択することはできません。ExadataのSmartScanといったハードウェアのスペックに依存しないソフトウェアの機能による高速化がありますので、モデルを気にせずにお使いいただけます。それもメリットの一つです。<br />
一方、筐体を専有してご利用いただくDedicated型の場合は、利用できるOCPU/ストレージの総量にも関係しますので、Exadata X7またはX8といったようにモデルをご選択いただくことが可能です。</p>

<p><br /></p>

<h2 id="autonomous-json-databaseajd-は-acid-が保証されているのでしょうかもしくは一般的なno-sql-サービスと言う理解でしょうか">Autonomous JSON Database(AJD) は ACID が保証されているのでしょうか？もしくは一般的なNo-SQL サービスと言う理解でしょうか？</h2>

<p>ACIDが保証されているサービスとなります。
良くMongoDBと比較されますが、Autonomous JSON DatabaseはOracle Databaseにドキュメントを格納するため、RDBMSの特徴をそのまま享受できる点がMongoDBと異なる最大の特徴となります。
詳細については<a href="https://speakerdeck.com/oracle4engineer/autonomous-json-database-ji-shu-gai-yao?slide=6">こちら</a>に記載がありますので、併せてご確認ください。</p>

<p><br /></p>

<h2 id="apexadb上のoracle-rest-data-serviceで作成したapiはどうやって認証するでしょうか">(APEX)ADB上のOracle REST Data Serviceで作成したAPIはどうやって認証するでしょうか?</h2>

<p><a href="https://docs.oracle.com/cd/F25233_01/aelig/developing-REST-applications.html">こちら</a>のドキュメントに認証に関する記載がありますので、ご一読くださいますようお願いいたします。</p>
<ul>
  <li>3.3 RESTfulサービスへのセキュアなアクセスの構成</li>
  <li>3.3.5 チュートリアル: リソースの保護およびアクセス</li>
</ul>

<p><br /></p>

<h2 id="autonomous-json-databaseajdからautonomous-transaction-processingatpへの変更はできますか">Autonomous JSON Database(AJD)からAutonomous Transaction Processing(ATP)への変更はできますか？</h2>

<p>はい、できます。ATPからAJDへの変更は不可、またADWへの変更は不可です。
同様にAPEX Application Development(APEX)からATPへの変更は可能ですが、ATPからAPEXへの変更は不可、またADWへの変更も不可です。</p>

<p><a href="#">ページトップに戻る</a></p>

<p><br /></p>

<h1 id="-課金ライセンス"><span style="color: brown; ">■ 課金/ライセンス</span></h1>
<p><br /></p>

<h2 id="ocpuストレージの課金は時間単位でしょうか">OCPU、ストレージの課金は時間単位でしょうか？</h2>

<p><a href="https://www.oracle.com/jp/cloud/price-list.html#adw">価格表</a>にはストレージはTB/月、CPUはOCPU数/時で記載されていますが、 実際はどちらも秒単位の請求となります。OCPU、ストレージ共に最低1分から秒単位での利用が可能です。</p>

<p><br /></p>

<h2 id="auto-scaling-有効時の課金について教えてください">Auto Scaling 有効時の課金について教えてください</h2>

<p>分単位でCPU使用率を算出し、それを時間で平均したものが課金されます。少数点以下は切り上げとなります。例えば、ベースが4 OCPUでAuto ScalingをONにすると最大12 OCPUとなり、1時間あたりの平均消費OCPUが60%であれば8OCPU分が課金されます。</p>

<p><br /></p>

<h2 id="auto-scaling-を有効にした場合のcpu単価は割高になりますか">Auto Scaling を有効にした場合のCPU単価は割高になりますか？</h2>

<p>いいえ、同一価格となります。</p>

<p><br /></p>

<h2 id="se-byolで既存ライセンスを持ち込む場合1インスタンスあたり8ocpuの上限がありますauto-scalingを有効にした場合ocpuはいくつが上限になりますか">SE BYOLで既存ライセンスを持ち込む場合、1インスタンスあたり8OCPUの上限があります。Auto Scalingを有効にした場合、OCPUはいくつが上限になりますか?</h2>

<p>ライセンスタイプは「ライセンス持込み (BYOL)」エディションを「Oracle Database Standard Edition(SE)」を選択してください。その場合、設定できるOCPU数は8まで、またAuto Scalingが利用された場合もBYOLの1インスタンスの最大である8 OCPUで頭打ちとなります。
9OCPU以上の環境にしたい場合は、SE BYOLは利用できません。ライセンス・タイプをBYOLから「ライセンス込み」に変更してご利用ください。
こちらの操作もオンラインで実施できます。ただし、この場合は全OCPUがライセンス込みの価格になりますので、ご注意ください。</p>

<p><br /></p>

<h2 id="oracle-analytics-desktop-旧data-visualization-desktop--dvdは無償でしょうか">Oracle Analytics Desktop （旧Data Visualization Desktop : DVD）は無償でしょうか？</h2>

<p>Autonomous Databaseをデータソースとしてご利用いただく限り無償です。<a href="http://www.oracle.com/us/corporate/contracts/paas-iaas-universal-credits-3940775.pdf">PaaS and IaaS Universal Credits Service Descriptions</a>に以下の記載があります。<br />
“Your use of Oracle Autonomous Data Warehouse Cloud Service entitles You to any number of users of Oracle Data Visualization Desktop”<br />
なお、インストールする各PCにはクレデンシャル(暗号キー)の配布・設定が必要です。</p>

<p><br /></p>

<p><a href="#">ページトップに戻る</a></p>

<p><br /></p>

<h1 id="-構成関連"><span style="color: brown; ">■ 構成関連</span></h1>
<p><br /></p>

<h2 id="インフラ構成やio帯域搭載メモリなどのスペックは公開されていますか">インフラ構成やI/O帯域、搭載メモリなどのスペックは公開されていますか？</h2>

<p>詳細なアーキテクチャ、スペックは公開しておりません。それらの管理・運用の手間からユーザを開放することがAutonomous Databaseのコンセプトです。<br />
I/OスループットはCPUの数に合わせてスケーリングします（Disk、FlashのI/O帯域がcpu_countの値に比例するよう制御されています）。
またメモリもOCPUに比例する形で割り当てられます。</p>

<p><br /></p>

<h2 id="io性能の指標はありますか">I/O性能の指標はありますか？</h2>

<p>具体的な指標はありません。Autonomous DatabaseはExadataで構成されていますが、ExadataはI/Oを効率化する各種機能があり、単純なI/O能力だけでは性能を判断できないからです。実際にご利用いただいているお客様の評価を<a href="https://www.oracle.com/jp/cloud/infrastructure/case-studies/">事例サイト</a>でご確認ください。</p>

<p><br /></p>

<h2 id="ストレージの最大容量はどのように制御されているのでしょうかまた指定できる最大容量はいくつでしょうか">ストレージの最大容量はどのように制御されているのでしょうか、また指定できる最大容量はいくつでしょうか？</h2>

<p>指定した容量に基づいてデータベースのプロパティで設定がされます。設定は以下で確認できます。</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SQL</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">PROPERTY_VALUE</span> <span class="k">FROM</span> <span class="n">database_properties</span> <span class="k">WHERE</span> <span class="n">property_name</span> <span class="o">=</span> <span class="s1">'MAX_PDB_STORAGE'</span><span class="p">;</span>
<span class="k">SQL</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">max_size</span> <span class="k">from</span> <span class="n">v</span><span class="err">$</span><span class="n">pdbs</span><span class="p">;</span>  
</code></pre></div></div>
<p>指定できる最大容量は128TBです。それ以上のサイズが必要な場合は別途お問い合わせください。</p>

<p><br /></p>

<h2 id="ストレージ容量として指定したサイズはデータベース全体のサイズでしょうかそれとも格納するデータ量に対してでしょうか">ストレージ容量として指定したサイズはデータベース全体のサイズでしょうか、それとも格納するデータ量に対してでしょうか？</h2>

<p>データベース全体のサイズです。ユーザーデータを格納する表領域以外のデータベースを稼働させるために必要な表領域も含まれます。
含まれる表領域については<a href="https://speakerdeck.com/oracle4engineer/autonomous-database-cloud-ji-shu-xiang-xi">Autonomous Database Cloud 技術詳細</a>の”ストレージ領域の管理”の章をご確認ください。</p>

<p><br /></p>

<h2 id="ストレージ容量以上のデータを格納しようとした場合はどうなりますか">ストレージ容量以上のデータを格納しようとした場合はどうなりますか？</h2>

<p>ストレージ容量が不足した場合は、Insert処理がエラーとなります（ORA-65114: コンテナ内の領域の使用量が高すぎます）<br />
ただし、サービスコンソールの使用率表示は余裕を持たせてあり、100%ではなく、110%でエラーが発生するようになります。
この場合、ストレージ容量を手動でスケールアップする、もしくはストレージの自動拡張機能を有効にすることでエラーを解消できます。ストレージの自動拡張を有効にすると、ストレージ量が100GB以下になると1TBずつ設定値の3倍まで自動で拡張します。</p>

<p><br /></p>

<h2 id="ocpuのauto-scalingと手動スケーリングは同時に利用できますか">OCPUのAuto Scalingと手動スケーリングは同時に利用できますか？</h2>

<p>同時に利用することができます。Auto Scalingを有効にした状態で、OCPU数を手動で調整することが可能です。</p>

<p><br /></p>

<p><a href="#">ページトップに戻る</a></p>

<p><br /></p>

<h1 id="-可用性関連"><span style="color: brown; ">■ 可用性関連</span></h1>
<p><br /></p>

<h2 id="ディザスタリカバリdrdisaster-recoveryは可能でしょうか">ディザスタリカバリ（DR/Disaster Recovery）は可能でしょうか？</h2>

<p>可能です。Autonomous Data Guardをリージョン内（ローカル）、クロス・リージョンで構成することができます。</p>

<p><br /></p>

<h2 id="障害が発生した場合の復旧時間について教えてください">障害が発生した場合の復旧時間について教えてください。</h2>

<p>ハードウェア障害やデータ破損発生時の障害復旧時間は<a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/haovw/oracle-maximum-availability-architecture-and-autonomous-database-cloud.html#GUID-92064893-D689-4450-B491-3042A5AFCE2B">こちら</a>をご確認ください。サービスとしては可用性SLA99.95%で提供されます。<br />
Autonomous Data Guard を構成いただいた場合は、SLA99.995%となり、データ破損などの障害からの復旧時間が短くなります。RTO/RPOについては<a href="https://docs.oracle.com/ja-jp/iaas/adbdataguard/autonomous-data-guard-about.html#GUID-AF736587-4F6D-45C3-9886-7211B0A33745">マニュアル</a>をご確認ください。</p>

<p><br /></p>

<h2 id="東日本-西日本などリージョン間を跨いだ冗長化を検討する場合もっともrtorpoを短くすることができる構成はどのようになりますでしょうか">東日本-西日本などリージョン間を跨いだ冗長化を検討する場合、もっともRTO/RPOを短くすることができる構成はどのようになりますでしょうか？</h2>

<p>Autnomous Data Guardを利用した構成をご検討いただけます。RTO/RPOについては<a href="https://docs.oracle.com/ja-jp/iaas/adbdataguard/autonomous-data-guard-about.html#GUID-AF736587-4F6D-45C3-9886-7211B0A33745">マニュアル</a>に記載があります。他の方法として、GoldenGateを利用した論理レプリケーションがあります。それぞれについてチュートリアルを公開しておりますのでご利用ください。</p>

<ul>
  <li><a href="https://oracle-japan.github.io/ocitutorials/database/adb212-audg/">Autonomous Data Guardチュートリアル</a></li>
  <li><a href="https://oracle-japan.github.io/ocitutorials/database/adb401-oci-goldengate/">OCI GoldenGateチュートリアル</a></li>
</ul>

<p><br /></p>

<h2 id="バックアップは開始時点でスナップショットが取得されるのでしょうかその場合バックアップの完了を待たずともddldml起動停止等の操作は可能ですか">バックアップは開始時点でスナップショットが取得されるのでしょうか？その場合、バックアップの完了を待たずともDDL/DML/起動停止等の操作は可能ですか。</h2>

<p>Autonomous Database は、ストレージ装置のスナップショット機能によるバックアップは採用しておらず、RMANを利用して60日ごとにフルバックアップ、週次で累積バックアップ、日次で増分バックアップを取得しております。増分バックアップの間の更新についてはアーカイブ・ログが取得されております。 これらのバックアップとアーカイブ・ログを利用することで、バックアップ保持期間の60日の間であれば任意のタイミングに戻すことが可能です（Point-In-Timeリカバリ）。
従いまして、バックアップの断面を気にしていただく必要はありません。 ただし、Autonomous Database のリカバリは秒指定で行うため、断面でのリカバリが必要な場合は、アプリケーション側で静止点を確保し、その時間を指定してリカバリを行ってください。
また、Autonomous Database には自動バックアップと合わせて手動バックアップという機能もあります。こちらをご利用いただくと指定したタイミングでフルバックアップを取得いただくことが可能です。自動バックアップはリストアする際に任意のタイミングに変更ログ（アーカイブ・ログ）を適用しリカバリする必要がありますが、手動バックアップは特定の時点のリストアのみで、リカバリする必要がありませんので、比較的高速に復旧いただくことが可能です。手動バックアップはAPI経由でのみ実行可能です。(※2022/12現在)</p>

<p><a href="https://docs.oracle.com/cd/E83857_01/paas/autonomous-database/adbsa/backup-restore.html#GUID-9035DFB8-4702-4CEB-8281-C2A303820809">参考マニュアル Autonomous Databaseのバックアップおよびリストア</a></p>

<p><br /></p>

<h2 id="自動バックアップはどこに取得されるのでしょうか任意のオブジェクトストレージに取得することはできますか">自動バックアップはどこに取得されるのでしょうか。任意のオブジェクト・ストレージに取得することはできますか？</h2>

<p>オラクル社が管理するオブジェクト・ストレージに取得されます。取得先に任意のオブジェクト・ストレージを指定することはできません。自動バックアップが取得されるオブジェクト・ストレージはユーザがアクセスすることはできず、課金対象外（ユーザーが指定するストレージ容量には含まれません）になります。<br />
なお、手動バックアップの場合は任意のオブジェクトストレージの指定が可能です。</p>

<p><br /></p>

<h2 id="autonomous-database-shared型の自動バックアップのタイミングは指定できますか">Autonomous Database Shared型の自動バックアップのタイミングは指定できますか？</h2>

<p>現時点でタイミングを指定することはできません。
なお、取得したバックアップの情報は下記SQLで確認いただくことが可能です。</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">SESSION</span> <span class="k">SET</span> <span class="n">NLS_DATE_FORMAT</span> <span class="o">=</span> <span class="s1">'RR/MM/DD HH24:MI:SS'</span><span class="p">;</span>

<span class="k">SELECT</span> 
    <span class="n">TAG</span><span class="p">,</span> 
    <span class="k">MIN</span><span class="p">(</span><span class="n">START_TIME</span><span class="p">),</span> 
    <span class="k">MAX</span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">),</span> 
    <span class="p">(</span><span class="k">MAX</span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">)</span><span class="o">-</span> <span class="k">MIN</span><span class="p">(</span><span class="n">START_TIME</span><span class="p">))</span><span class="o">*</span><span class="mi">24</span><span class="o">*</span><span class="mi">60</span> <span class="k">as</span> <span class="n">Minutes</span><span class="p">,</span> 
    <span class="k">SUM</span><span class="p">(</span><span class="n">BYTES</span><span class="p">)</span><span class="o">/</span><span class="mi">1024</span><span class="o">/</span><span class="mi">1024</span><span class="o">/</span><span class="mi">1024</span> <span class="nv">"Size(GB)"</span>
<span class="k">FROM</span> <span class="n">V</span><span class="err">$</span><span class="n">BACKUP_PIECE</span>
<span class="k">WHERE</span> <span class="n">DEVICE_TYPE</span><span class="o">=</span><span class="s1">'SBT_TAPE'</span> <span class="k">AND</span> <span class="n">STATUS</span><span class="o">=</span><span class="s1">'A'</span>
<span class="k">AND</span> <span class="p">(</span><span class="n">TAG</span> <span class="k">LIKE</span> <span class="s1">'TAG_C1%'</span> <span class="k">OR</span> <span class="n">TAG</span> <span class="k">LIKE</span> <span class="s1">'TAG_L1%'</span> <span class="k">OR</span> <span class="n">TAG</span> <span class="k">LIKE</span> <span class="s1">'TAG_AL%'</span> <span class="k">OR</span> <span class="n">TAG</span> <span class="k">LIKE</span> <span class="s1">'PDB_%'</span><span class="p">)</span>
<span class="k">AND</span> <span class="n">START_TIME</span> <span class="o">&gt;=</span> <span class="n">TO_DATE</span><span class="p">(</span><span class="s1">'2021-04-05 00:00:00'</span><span class="p">,</span> <span class="s1">'yyyy-mm-dd hh24:mi:ss'</span><span class="p">)</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">TAG</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="k">MIN</span><span class="p">(</span><span class="n">START_TIME</span><span class="p">)</span>
<span class="p">;</span>
</code></pre></div></div>
<p>TAG列の先頭の値でバックアップタイプが判断できます。</p>
<ul>
  <li>TAG_C1 : フルバックアップ（週次）</li>
  <li>TAB_L1 : 増分バックアップ（日次）</li>
  <li>TAB_AL : アーカイブログ（毎時）</li>
</ul>

<p><br /></p>

<h2 id="自動バックアップからのリストア時間はどれくらいでしょうか">自動バックアップからのリストア時間はどれくらいでしょうか？</h2>

<p>データ量、更新量に依存するため変動する可能性はありますが、サービスレベル目標については<a href="https://docs.oracle.com/en-us/iaas/autonomous-database-shared/doc/availability-slo.html">こちら</a>を参照ください。</p>

<p><br /></p>

<h2 id="バックアップを任意の場所にリストアすることやbasedbなど別のサービスに展開することは可能ですか">バックアップを任意の場所にリストアすることや、BaseDBなど別のサービスに展開することは可能ですか？</h2>

<p>できません。Autonomous Database のバックアップは、同じデータベースにリストアしてデータを復元する目的にのみ使用できます。
バックアップからではなく、Data Pump でオブジェクト・ストレージにエクスポートし、別のサービスへインポートを行うことや、クローン機能でクローンやリフレッシュ可能なクローンを別のコンパートメントに作成することをご検討ください。</p>

<p><br /></p>

<h2 id="autonomous-database-shared型はソースdbを止めずにクローンできると思いますがどの断面で作成されるのですか作成をクリックしたタイミングですか">Autonomous Database Shared型はソースDBを止めずにクローンできると思いますが、どの断面で作成されるのですか？作成をクリックしたタイミングですか？</h2>

<p>クローン実行中のどこかのタイミングが断面となります。クリック直後といった明確な基準は定義されておりません。<br />
明確に断面を確保したい場合はアプリケーション側で読み取り専用（Readonly)として更新が入らないように制御する、またはインスタンスを停止してのクローン、バックアップを利用して時間指定でのクローンをご利用ください。<br />
なお、バックアップから作成する場合はオブジェクトストレージからのインスタンス作成になるため、クローン作成は比較的時間がかかることにご注意ください（データ量、圧縮率に依存）</p>

<p><a href="https://oracle-japan.github.io/ocitutorials/database/adb211-clone/">参考：クローンに関するチュートリアル</a></p>

<p><br /></p>

<h2 id="data-pump-を利用した論理バックアップはできますか">Data Pump を利用した論理バックアップはできますか？</h2>

<p>はい、できます。スキーマ単位、表単位でバックアップを取っておきたい場合に利用します。
詳しい手順はこちらのマニュアルをご参照ください。</p>

<p><a href="https://docs.oracle.com/cd/E83857_01/paas/autonomous-database/adbsa/export-data-create-dump-file.html#GUID-8D734C1A-FAF3-446C-B777-16DF62FB049E">参考：Data Pumpを使用したAutonomous Databaseでのダンプ・ファイル・セットの作成</a></p>

<p><br /></p>

<h2 id="セッションの瞬断対策として何か講じることはできますか">セッションの瞬断対策として何か講じることはできますか？</h2>

<p>Application Continuityを有効化することで、セッション瞬断の影響を受ける処理を自動回復させることができます。接続サービスごとに有効化するだけでアプリからは透過的に利用することができます。詳しい手順はこちらのチュートリアルをご参照ください。</p>

<p><a href="https://oracle-japan.github.io/ocitutorials/database/adb213-tac/">参考：Application Continuityを設定しよう</a></p>

<p><br /></p>

<p><a href="#">ページトップに戻る</a></p>

<p><br /></p>

<h1 id="-接続データロード連携関連"><span style="color: brown; ">■ 接続・データロード/連携関連</span></h1>
<p><br /></p>

<h2 id="autonomous-databaseに接続がサポートされている製品サードパーティ製品を教えてください">Autonomous Databaseに接続がサポートされている製品(サードパーティ製品)を教えてください。</h2>

<p>サポートについては接続を行う製品ベンダー側にご確認いただくことになります。
<a href="https://www.oracle.com/jp/autonomous-database/tools/">オラクル社で動作確認したツールのリスト</a>
もありますが、リストに記載がなくてもOracle Clientの要件を満たしていれば基本的に動作可能とお考え下さい。</p>

<p><br /></p>

<h2 id="autonomous-databaseに割り当てられたipアドレスは固定でしょうか">Autonomous Databaseに割り当てられたIPアドレスは固定でしょうか。</h2>

<p>Private IPは固定ですが、Public IPは変更される可能性があります。Public IPの場合はホスト名をご利用ください。</p>

<p><br /></p>

<h2 id="autonomous-databaseの同時接続セッション数はいくつでしょうかまた同時接続セッション数を超えて接続しようとした場合はエラーになりますか">Autonomous Databaseの同時接続セッション数はいくつでしょうか。また同時接続セッション数を超えて接続しようとした場合はエラーになりますか？</h2>

<p>同時接続セッション数は1OCPUあたり300セッションです。<br />
Autonomous Databaseの初期化パラメータSESSIONSとして設定されます。この値は接続サービスをまたいで有効であり、例えば、OCPU=1のAutonomous Transaction Processingにおいて、TPURGENTで100、TPで200セッションが接続している場合、新たにセッションを作成することはできません。セッション数を超えた場合は 「ORA-00018: 最大セッション数を超えました」というエラーとなり、セッションの作成に失敗します。<br />
なお、Autonomous DatabaseはOracle MultitenantのPluggable Databaseであるため、バックグランドプロセスや再帰セッション分のセッション数を考慮する必要はありません。</p>

<p><br /></p>

<h2 id="autonomous-databaseで動作しているトランザクション系システムのデータを分析系システムへ渡したい場合なるべく低負荷でデータを伝搬させる手段はありますでしょうか">Autonomous Databaseで動作しているトランザクション系システムのデータを分析系システムへ渡したい場合、なるべく低負荷でデータを伝搬させる手段はありますでしょうか？</h2>

<p>OCI GoldenGateの利用をご検討ください。またDatabase Linkをご利用いただくことも可能です。</p>

<p><a href="https://oracle-japan.github.io/ocitutorials/database/adb401-oci-goldengate/">参考：OCI GoldenGateチュートリアル</a></p>

<p><br /></p>

<h2 id="iotデータ等の大規模ファイルを扱う場合外部表を利用してオブジェクトストレージに配置して都度アクセスするか一旦autonomous-database内にロードしてから利用するのとではどちらが良いでしょうか">IoTデータ等の大規模ファイルを扱う場合、外部表を利用してオブジェクト・ストレージに配置して都度アクセスするか、一旦Autonomous Database内にロードしてから利用するのとではどちらが良いでしょうか？</h2>

<p>ケース・バイ・ケースですが、参照頻度によって決めることをおすすめします。<br />
SQLでの参照頻度が低いようであれば、オブジェクト・ストレージの方がAutonomous DatabaseのExadata Storageよりも安価ですので、外部表を利用してアクセスするほうがコストを抑えることができます。
また頻繁にアクセスするようでしたらAutonomous Database内にロードした方が、SmartScan機能による高速化を有効に利用できます。<br />
なお、外部表を利用して参照する場合も、Autonomous Databaseにロードする場合も、オブジェクト・ストレージ上のファイルは分割しておくことをおすすめします。ファイルを分割することで複数のコアを利用した高速な並列処理が可能になります。</p>

<p><a href="https://docs.oracle.com/cd/E83857_01/paas/autonomous-database/adbsa/query-external.html#GUID-ABF95242-3E04-42FF-9361-52707D14E833">参考：Autonomous Databaseを使用した外部データの問合せ</a></p>

<p><br /></p>

<h2 id="autonomous-database-とoracle-database-以外のデータベースの連携は可能ですか">Autonomous Database とOracle Database 以外のデータベースの連携は可能ですか？</h2>

<p>Oracle Database Gatewayを経由することでDB Linkで連携可能です。Redshift、MySQL EE、PostgreSQL、SnowflakeなどいくつかのデータベースへのDB Linkでは、Oracle Database Gatewayを用意しなくとも利用可能です。参照するリモートDBにはいくつか要件がございます。詳しくはこちらのマニュアルをご参照ください。</p>

<p><a href="https://docs.oracle.com/cd/E83857_01/paas/autonomous-database/adbsa/autonomous-database-links-non-oracle-db.html#GUID-6C925566-2067-4D3B-A3FF-CA73C60506C9">参考：非Oracle Databaseへのデータベースリンクの作成</a></p>

<p><br /></p>

<p><a href="#">ページトップに戻る</a></p>

<p><br /></p>

<h1 id="-セキュリティ関連"><span style="color: brown; ">■ セキュリティ関連</span></h1>
<p><br /></p>

<h2 id="ウイルスソフトは導入できますか">ウイルスソフトは導入できますか？</h2>
<p>　
OSレイヤーは解放していないため、ウィルスソフトのインストールはできません。オラクル社にて対策を十分に講じておりますので、お客様側で対応いただく必要はございません。</p>

<p><br /></p>

<h2 id="ハッキングやウィルス対策はどの様になっていますでしょうか">ハッキングや、ウィルス対策はどの様になっていますでしょうか？</h2>
<p>　
オラクル社にて対策を十分に講じております。セキュリティ・ポリシーに関しては<a href="https://docs.oracle.com/cd/E97706_01/Content/Security/Concepts/security_guide.htm">セキュリティガイド</a>を参照ください。</p>

<p><br /></p>

<h2 id="暗号化は必須ですか">暗号化は必須ですか？</h2>

<p>はい、必須です。<br />
Autonomous Databaseではデータファイル（表領域）やバックアップファイル、およびネットワークなど、全てのレイヤーにおいてデフォルトで暗号されております。これらの暗号化にはAdvanced Security Option(ASO）を利用しております。ASOはオンプレミスでは有償オプションですが、Autonomous Databaseを含むOCIのPaaSサービスではサブスクリプションの範囲として追加費用なくご利用いただけます。</p>

<p><br /></p>

<h2 id="autonomous-databaseの表領域暗号化のアルゴリズムは何を利用していますか">Autonomous Databaseの表領域暗号化のアルゴリズムは何を利用していますか?</h2>

<p>2022/12時点でAES-256で暗号化されております。
V$ENCRYPTED_TABLESPACESビューを参照いただくことで確認可能です。</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">NAME</span><span class="p">,</span><span class="n">ENCRYPTIONALG</span> <span class="k">FROM</span> <span class="n">V</span><span class="err">$</span><span class="n">ENCRYPTED_TABLESPACES</span> <span class="n">a</span><span class="p">,</span><span class="n">V</span><span class="err">$</span><span class="n">TABLESPACE</span> <span class="n">b</span>
<span class="k">WHERE</span> <span class="n">a</span><span class="p">.</span><span class="n">TS</span><span class="o">#</span> <span class="o">=</span> <span class="n">b</span><span class="p">.</span><span class="n">TS</span><span class="o">#</span>
</code></pre></div></div>

<p><br /></p>

<h2 id="autonomous-databaseの通信はtls12ですか">Autonomous Databaseの通信はTLS1.2ですか？</h2>

<p>はい、TLS1.2です。<a href="https://docs.oracle.com/cd/E83857_01/paas/autonomous-database/shared-responsibility-model.html">Oracle Autonomous Databaseの職責モデル</a>のアプリケーション・セキュリティの欄に記載があります。</p>

<p><br /></p>

<h2 id="adbでデータベース監査の結果はすべてコマンドで取得できますか">ADBでデータベース監査の結果はすべてコマンドで取得できますか？</h2>

<p>はい、Oracle Databaseの統合監査機能ですので、UNIFIED_AUDIT_TRAILビューでご確認いただくことが可能です。なお、GUIで参照するには、Data Safeをご利用ください。</p>

<p><a href="https://oracle-japan.github.io/ocitutorials/intermediates/data-safe-tutorials/">参考：Oracle Data Safeチュートリアル</a></p>

<p><br /></p>

<h2 id="autonomous-databaseにおいてマスキングする場合プロシージャ等で実行できるのでしょうか">Autonomous Databaseにおいてマスキングする場合、プロシージャ等で実行できるのでしょうか？</h2>

<p>現時点で、Autonomous DatabaseでOracle Data Masking and Subsetting Packは利用できません。マスキングの機能を利用するには、Data Safeをご利用ください。</p>

<p><a href="https://oracle-japan.github.io/ocitutorials/intermediates/data-safe-tutorials/">参考：Oracle Data Safeチュートリアル</a></p>

<p><br /></p>

<h2 id="行や列単位でアクセス制御をかけることはできますか">行や列単位でアクセス制御をかけることはできますか？</h2>

<p>はい、仮想プライベートデータベース(VPD)というソリューションで可能です。詳しくはこちらのチュートリアルをご参照ください。</p>

<p><a href="https://oracle-japan.github.io/ocitutorials/database/adb210-VPD/">参考：Virtual Private Database(VPD)チュートリアル</a></p>

<p>また、特権ユーザーに対しても情報にアクセスさせないようにするDatabase Vaultも設定可能です。詳しくはこちらのチュートリアルをご参照ください。</p>

<p><a href="https://oracle-japan.github.io/ocitutorials/database/adb209-DV/">参考：Database Vaultチュートリアル</a></p>

<p><a href="#">ページトップに戻る</a></p>

<p><br /></p>

<h1 id="-オプション機能関連"><span style="color: brown; ">■ オプション・機能関連</span></h1>
<p><br /></p>

<h2 id="autonomous-database-でsql計画管理spmsql-plan-managementは利用できますか">Autonomous Database でSQL計画管理(SPM：SQL Plan Management)は利用できますか？</h2>

<p>はい、ご利用いただけます。19cから自動タスクの中でパフォーマンスが優れた計画はベースラインに追加されるようになっているため、SPMは自動的に利用されています。また、状況に応じてベースラインの実行計画から、利用する実行計画を選択することも可能です。</p>

<ul>
  <li>SPMは自動で動いており、ベースラインも自動で取得している</li>
  <li>手動取得も可能(Session単位でのみ可能。alter system によるOPTIMIZER_CAPTURE_SQL_PLAN_BASELINESの有効化(TRUE)は不可)。</li>
</ul>

<p>参考：<br />
<a href="https://docs.oracle.com/cd/F19136_01/tgsql/overview-of-sql-plan-management.html#GUID-F1C45056-F998-43E5-B362-83F88DA49E58">ドキュメント SQL計画管理の概要</a><br />
<a href="https://docs.oracle.com/cd/F19136_01/tgsql/release-changes.html#GUID-7F884CC2-24AD-4CB9-B387-84C43BD2B5D9">ドキュメント Oracle Database SQLチューニング・ガイドのこのリリースでの変更</a><br />
<a href="https://www.oracle.com/technetwork/jp/database/bi-datawarehousing/twp-sql-plan-mgmt-19c-5324207-ja.pdf">ホワイトペーパー Oracle Database 19cのSQL計画管理</a></p>

<p><br /></p>

<h2 id="autonomous-database-でsqlプロファイルは利用できますか">Autonomous Database でSQLプロファイルは利用できますか？</h2>

<p>SQLプロファイルとは、SQLチューニングアドバイザを利用して生成される補足統計です。
Autonomous Databaseでは自動SQLチューニング（自動タスクによるSQLチューニングアドバイザの実行）は行われておりませんが、オンデマンドでのSQLチューニングアドバイザの実行は可能です。</p>

<p>参考：<br />
<a href="https://docs.oracle.com/cd/F19136_01/tgsql/managing-sql-profiles.html#GUID-0DF775E3-8E88-437F-8A30-1173497EB971">ドキュメント：SQLプロファイルの統計</a><br />
<a href="https://docs.oracle.com/cd/F19136_01/tgsql/sql-tuning-advisor.html#GUID-36E17A9F-7912-483D-A10F-7748BBB924E0">ドキュメント：SQLチューニング・タスクの作成</a></p>

<p><br /></p>

<h2 id="autonomous-database-でsqlパッチは利用できますか">Autonomous Database でSQLパッチは利用できますか？</h2>

<p>はい、明示的に与えたいヒントをSQLパッチとして作成し、SQLに適用することができます。</p>

<p>参考：<br />
<a href="https://blogs.oracle.com/otnjp/tsushima-hakushi-72">津島博士のパフォーマンス講座 第72回</a><br />
<a href="https://docs.oracle.com/cd/F19136_01/arpls/DBMS_SQLDIAG.html">ドキュメント：DBMS_SQLDIAG</a></p>

<p><br /></p>

<h2 id="autonomous-database-でreal-application-testingratは利用できますか">Autonomous Database でReal Application Testing(RAT)は利用できますか？</h2>

<p>はい、Real Application Testing(RAT)のSQL Performance Analyzer(SPA)を利用できます。<br />
Autonomous Databaseへの移行を検討される際やAutonomous Databaseのバージョンアップの際に、個々のSQLの性能調査に有効です。手順は以下のチュートリアルを参照ください。なお、RATのDatabase Replayも利用可能です。</p>

<p><a href="https://oracle-japan.github.io/ocitutorials/database/adb216-patch-spa/">参考：SQL Performance Analyzer(SPA)チュートリアル</a></p>

<p><br /></p>

<h2 id="autonomous-database-でresult-cacheは利用できますか">Autonomous Database でResult Cacheは利用できますか？</h2>

<p>はい、利用できます。<br />
ワークロードの違いに合わせてデフォルト設定がされています。Autonomous Data Warehouse(ADW)は有効、Autonmous Transaction Processing(ATP)は無効です。</p>

<p><br /></p>

<h2 id="autonomous-database-でflashback機能は利用できますか">Autonomous Database でFlashback機能は利用できますか？</h2>

<p>Flashback databaseはリストアの際に内部的に利用されていますが、ユーザーが明示的に利用することはできません。
その他のFlashback query, table, drop機能は通常のOracle Databaseと同様に利用可能です。</p>

<p><br /></p>

<h2 id="autonomous-database-でhybrid-columnar-compressionhccハイブリッドカラム圧縮は利用できますか">Autonomous Database でHybrid Columnar Compression（HCC/ハイブリッド・カラム圧縮）は利用できますか？</h2>

<p>Autonomous Databaseはワークロードにあわせて表領域単位で圧縮レベルがデフォルトで設定されています。</p>

<ul>
  <li>Autonomous Transaction Processing(ATP)は非圧縮</li>
  <li>Autonomous Data Warehouse(ADW)は、HCC（QUERY HIGH ROW LEVEL LOCKINGモード）</li>
</ul>

<p>表単位で非圧縮やBASIC、OLTP、Query Lowといった圧縮モードへの変更は可能です。
ADWで更新が発生するような表の場合は、明示的に非圧縮に設定してください。</p>

<blockquote>
  <p>QUERY HIGH ROW LEVEL LOCKINGモードとは<br />
HCCは1CU につき1ロックを使用しますが、Oracle Database 12cから行レベル・ロックの有効化が可能となりました。
OnP Exadata におけるHCCのデフォルト設定は、NO ROW LEVEL LOCKINGです。</p>
</blockquote>

<p><br /></p>

<h2 id="autonomous-database-でdatabase-in-memorydbimを利用できますか">Autonomous Database でDatabase In-Memory(DBIM）を利用できますか？</h2>

<p>Autonomous Databaseは内部的にExadataのフラッシュ・キャッシュでDataase In-Memory機能を自動的に利用して性能を最適化します。お客様が意図してDatabase In-Memoryの機能を使用することはできません。</p>

<p><br /></p>

<h2 id="一部の重たいクエリによるリソースの大量消費を防ぐ仕組みはありますか">一部の重たいクエリによるリソースの大量消費を防ぐ仕組みはありますか？</h2>

<p>Runaway Queryの管理で、SQLの実行時間やIO量の上限を設定することができます。セッションは接続されたまま、上限を超えるクエリは強制キャンセルされます。</p>

<p><a href="https://docs.oracle.com/en/cloud/paas/autonomous-database/adbsa/manage-sql-statements.html#GUID-4861BA7F-F9FA-4909-8DC0-4F46AFF80706">参考：Runaway Query マニュアル</a></p>

<p><br /></p>

<p><a href="#">ページトップに戻る</a></p>

<p><br /></p>

<h1 id="-運用管理監視関連"><span style="color: brown; ">■ 運用管理・監視関連</span></h1>
<p><br /></p>

<h2 id="データファイルのサイズ変更リサイズや最大サイズの変更を行うことはできますか">データファイルのサイズ変更（リサイズ）や最大サイズの変更を行うことはできますか？</h2>
<p>はい、できます。DATA表領域のデータファイルに対してリサイズと最大サイズの変更が許可されています。</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">--リサイズ</span>
 <span class="k">ALTER</span> <span class="k">DATABASE</span> <span class="n">DATAFILE</span> <span class="o">&lt;</span><span class="n">FILE_ID</span><span class="o">&gt;</span> <span class="n">RESIZE</span> <span class="o">&lt;</span><span class="err">リサイズ後のサイズ</span><span class="o">&gt;</span><span class="p">;</span>
<span class="c1">-- 自動拡張の最大サイズの変更</span>
 <span class="k">ALTER</span> <span class="k">DATABASE</span> <span class="n">DATAFILE</span> <span class="o">&lt;</span><span class="n">FILE_ID</span><span class="o">&gt;</span> <span class="n">AUTOEXTEND</span> <span class="k">ON</span> <span class="k">MAX</span> <span class="k">SIZE</span> <span class="o">&lt;</span><span class="k">Max</span><span class="err">サイズ</span><span class="o">&gt;</span> <span class="p">;</span>
</code></pre></div></div>
<p>なお、表領域の作成、削除、表領域の設定値の変更および、デフォルト表領域の変更は許可されていません。
デフォルトで自動拡張が有効化されており、ユーザが指定したストレージ容量の範囲内で自動的に拡張されます。</p>

<p><br /></p>

<h2 id="権限やリソースの制御はどのようにおこなっているのでしょうか変更可能でしょうか">権限やリソースの制御はどのようにおこなっているのでしょうか、変更可能でしょうか？</h2>

<p>データベースレベルでの権限やリソースの制御はPDBロックダウン・プロファイル機能を利用しています。
Autonomous Database では、PDBロックダウン・プロファイルの設定は変更できません。
設定内容の確認は以下のSQLで可能です。</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">V</span><span class="err">$</span><span class="n">LOCKDOWN_RULES</span> <span class="k">WHERE</span> <span class="n">STATUS</span> <span class="k">LIKE</span> <span class="s1">'DISABLE%'</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">RULE_TYPE</span> <span class="p">;</span>
</code></pre></div></div>

<p>ユーザーが許されているリソース変更は、接続サービスのリソース割り当て（SHARES）や長時間かかるSQLの自動切断設定などがあります。詳細は<a href="https://speakerdeck.com/oracle4engineer/autonomous-database-cloud-ji-shu-xiang-xi">Autonomous Database Cloud 技術詳細</a>を参照ください。</p>

<p><a href="https://docs.oracle.com/cd/F19136_01/dbseg/configuring-privilege-and-role-authorization.html#GUID-AB5E62DB-7E2A-4B5A-BA96-A2BD2DF15275">参考ドキュメント PDBロックダウン・プロファイルを使用したPDBでの操作の制限</a></p>

<p><br /></p>

<h2 id="awrは取得できますかawrの保持期限スナップショット間隔は変更で可能でしょうか">AWRは取得できますか？AWRの保持期限、スナップショット間隔は変更で可能でしょうか？</h2>

<p>可能です。パフォーマンスハブからのダウンロードまたはSQLで取得できます。取得方法は<a href="https://oracle-japan.github.io/ocitutorials/database/adb203-bulk-query/#anchor3-2">OCIチュートリアル</a>に記載していますのでご確認ください。
AWRの取得設定は通常のOracle Databaseと同様にDBMS_WORKLOAD_REPOSITORY.MODIFY_SNAPSHOT_SETTINGSにて変更可能ですが、再起動すると保持期間はデフォルトの30日に戻ります。</p>

<p><br /></p>

<h2 id="オプティマイザ関連の設定は変更できますか">オプティマイザ関連の設定は変更できますか。</h2>

<p>基本的に不可です。全てオプティマイザに任せるのがコンセプトです。Autonomous Databaseの初期化パラメータなどの制限事項ついては<a href="https://docs.oracle.com/cd/E83857_01/paas/autonomous-database/adbsa/experienced-database-users.html#GUID-58EE6599-6DB4-4F8E-816D-0422377857E5">ドキュメント</a>をご確認ください。</p>

<p><br /></p>

<h2 id="統計情報の固定リストアは出来ますか">統計情報の固定・リストアは出来ますか。</h2>

<p>統計情報のリストア（DBMS_STATS.RESTORE_TABLE_STATS）、固定化（dbms_stats.lock_table_stats）は可能です。
ただし、Autonomous Database では自動統計収集が有効化されていますので、基本的に全てAutonomous Databaseに任せることが可能です。</p>

<p><br /></p>

<h2 id="パフォーマンスハブで確認するとconsumer-groupに接続サービスのグループhighmiddlelowのほかにother_groupsとinternalがありますこれは何でしょうか">パフォーマンスハブで確認すると、Consumer Groupに接続サービスのグループ（HIGH/MIDDLE/LOW)のほかにOTHER_GROUPSとInternalがあります。これは何でしょうか。</h2>

<p>Cloud Ops、もしくはスケジューラプロセスが利用するグループです。お客様は利用できません。</p>

<p><br /></p>

<h2 id="アラートログトレースファイルの確認はできますか">アラートログ、トレースファイルの確認はできますか。</h2>

<p>SQLを利用してアラートログ(V$DIAG_ALERT_EXT)やトレースファイル(V$DIAG_TRACE_FILE_CONTENTS)を確認することは可能です。<a href="https://oracle-japan.github.io/ocitutorials/database/adb502-report/">OCIチュートリアル</a>に記載しておりますのでご確認ください。</p>

<p><br /></p>

<h2 id="autonomous-database-で監視と通知の設定を行うことは可能でしょうか">Autonomous Database で監視と通知の設定を行うことは可能でしょうか？</h2>

<p>はい、可能です。
以下を必要に応じて組み合わせてご利用ください。詳細については<a href="https://speakerdeck.com/oracle4engineer/autonomous-database-cloud-ji-shu-xiang-xi">Autonomous Database Cloud 技術詳細</a>を参照ください。</p>
<ul>
  <li>OCIにおけるテナント管理者への各種通知（オラクル社が実施する各種メンテナンス等に関して）</li>
  <li>ADBインスタンス単位で指定する連絡先リストへの通知（オラクル社が実施する各種メンテナンス等に関して）</li>
  <li>OCI Monitoringの監視メトリックやOCI Eventsにてサポートされるイベントについて通知（OCI Notificationsと連携）</li>
  <li>Oracle Management CloudやEnterprise Managerを用いた監視・通知</li>
</ul>

<p><br /></p>

<h2 id="sysdateのタイムゾーンがutcですがjstに変更は可能でしょうか">SYSDATEのタイムゾーンがUTCですが、JSTに変更は可能でしょうか？</h2>

<p>はい、SYSDATE_AT_DBTIMEZONEを使用することで可能です。
以下の記事に手順が記載されていますのでご確認ください。
<a href="https://qiita.com/500InternalServerError/items/d741a7144de7b35e04ed">[OCI]Autonomous Database：SYSDATE_AT_DBTIMEZONEを使用してsysdateが日本時間を返すようにしてみた</a></p>

<p><br /></p>

<p><a href="#">ページトップに戻る</a></p>

<p><br /></p>

<h1 id="-パッチメンテナンス関連"><span style="color: brown; ">■ パッチ・メンテナンス関連</span></h1>
<p><br /></p>

<h2 id="autonomous-database-shared型は適宜自動でパッチが適用されていくと思いますがパッチに伴う性能影響が心配です">Autonomous Database Shared型は適宜自動でパッチが適用されていくと思いますが、パッチに伴う性能影響が心配です。</h2>

<p>パッチ適用に伴うSQLの実行計画の変動を気にされているかと思いますが、Autonomous Databaseに定期的に自動適用されるパッチについては、オプティマイザの更新はデフォルトOFFのままとなっております。したがって、パッチ適用に伴う実行計画の変動は基本的に発生しません。また強化されたSQL実行計画管理機能（SPM）により実行計画の変化に伴う性能影響が出ないよう自動管理されております。</p>

<p><br /></p>

<h2 id="autonomous-databaseのパッチ適用作業時にインスタンスの起動は必要でしょうか">Autonomous Databaseのパッチ適用作業時にインスタンスの起動は必要でしょうか？</h2>

<p>いいえ、必要ありません。メンテナンス実施時にインスタンスが停止していてもパッチは適用されます。インスタンス停止中に適用できないパッチ(DataPatch等)については、インスタンスが起動した際に適用されるようになっています。</p>

<p><br /></p>

<h2 id="過去のメンテナンスの情報は確認可能でしょうか">過去のメンテナンスの情報は確認可能でしょうか？</h2>

<p>各Autonomous Databaseのメンテナンスについては、コンソールのメンテナンス履歴で確認いただけます。
また、適用されたパッチについては、DBA_CLOUD_PATCH_INFOビューで詳細を取得できます。</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">DBA_CLOUD_PATCH_INFO</span><span class="p">;</span>
</code></pre></div></div>

<p>サービスレベルでの過去の緊急メンテナンス等の実績はOCIコンソールのお知らせ(Announcements)をご覧ください。</p>

<p><br /></p>

<h2 id="ハードウェア更改時の対応はオラクルが行うのでしょうか">ハードウェア更改時の対応はオラクルが行うのでしょうか。</h2>

<p>はい。オラクル社の責任範囲ですので、オラクル社でH/W更改を含むメンテナンスを実施します。<br />
メンテナンスに伴いインスタンスの稼働に影響が及ぶ場合は、事前にOCIのテナント管理者、およびAutonomous Databaseインスタンスの連絡先リストに記載のメールアドレス宛に通知されます。</p>

<p><br /></p>

<p><a href="#">ページトップに戻る</a></p>

<p><br /></p>

<h1 id="-性能検証編環境作成"><span style="color: brown; ">■ 性能検証編(環境作成)</span></h1>
<p><br /></p>

<p>ここではAutonomous Database を利用して検証作業を実施するためのノウハウを中心に記載しています。<br />
なお、“簡単”というAutonomous のコンセプトから乖離するような細かい内容も含まれていますが、基本的に簡単すぐに良い性能が得られています。</p>

<p><br /></p>

<h2 id="ocpuはいくつからスタートすれば良いですか">OCPUはいくつからスタートすれば良いですか？</h2>

<p>Autonomous Databaseにおいて性能試験をされる場合、最低でもOCPU=2からスタートしてください。より高い性能を得るためのパラレル処理が利用可能になります。</p>

<p><br /></p>

<h2 id="データロードについてdbms_cloudcopy_dataによるデータロードを高速化するには">データロードについて、DBMS_CLOUD.COPY_DATAによるデータロードを高速化するには？</h2>

<p>OCIチュートリアルの<a href="https://oracle-japan.github.io/ocitutorials/database/adb202-dataload-dbms-cloud/">コマンドラインから大量データをロードしてみよう</a>の「よくある質問」に記載していますのでご参照ください</p>

<p><br /></p>

<h2 id="統計情報はいつ取得すれば良いですか">統計情報はいつ取得すれば良いですか？</h2>

<p>自動的に取得されているため、考慮不要です。</p>

<ul>
  <li>Autonomous Database ではデータをロード（ダイレクト・パス・ロード）する際に、自動で統計情報が取得されます</li>
  <li>その後、実際のワークロードに基づいて統計情報が定期的に自動取得されます</li>
  <li>さらに、クエリ実行時に統計情報が欠損している際は、ダイナミック・サンプリングが動きます</li>
</ul>

<p>それでも期待した性能が出ない場合は、以下のようにコマンドで取得することも可能です。</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">exec</span> <span class="n">dbms_stats</span><span class="p">.</span><span class="n">gather_table_stats</span><span class="p">(</span> <span class="n">ownname</span> <span class="o">=&gt;</span> <span class="err">‘</span><span class="n">YYY</span><span class="err">’</span><span class="p">,</span> <span class="n">tabname</span> <span class="o">=&gt;</span> <span class="err">‘</span><span class="n">XXX</span><span class="err">’</span><span class="p">)</span> <span class="p">;</span>
</code></pre></div></div>

<p><br /></p>

<p><a href="#">ページトップに戻る</a></p>

<p><br /></p>

<h1 id="-性能検証編クエリ実行"><span style="color: brown; ">■ 性能検証編(クエリ実行)</span></h1>
<p><br /></p>

<h2 id="ioがボトルネックになっている処理の性能向上を図るには">IOがボトルネックになっている処理の性能向上を図るには？</h2>

<p>Autonomous Database はOCPU数を増やすことでコア数だけでなくIO帯域も増えるため、IOバウンドな処理に対してもOCPUを増やすことで高速化できます。<br />
OCPU増はコストに跳ね返ってきますが、OCPUはオンラインでスケールアップ・ダウンが可能なので、週末・夜間など使わないタイミングはコア数を減らすことでコストを削減できます。</p>

<p>その他、Autonomous Databaseでは高速化のためのオプション機能であるパーティションが追加費用なく利用できます。またマテリアライズド・ビュー機能やAutonomous Transaction Processing(ATP)の場合はHCCによる圧縮も利用できるため（Autonomous Data Warehouse(ADW)はデフォルトで圧縮され格納される）、これらの機能を活用することもご検討ください。</p>

<p><br /></p>

<h2 id="ヒントは利用できますか">ヒントは利用できますか？</h2>

<ul>
  <li>Autonomous Transaction Processing(ATP)の場合
    <ul>
      <li>通常Oracle Databaseと同様、特に気にせずにヒント句を利用できます。</li>
    </ul>
  </li>
  <li>Autonomous Data Warehouse(ADW) の場合
    <ul>
      <li>基本的にオプティマイザに全て任せることで高速化できるため、ヒントは不要です。
        <ul>
          <li>optimizer_ignore_hints がTRUEであり既存ヒントは無効化されている</li>
          <li>ヒントを利用するためにはセッション単位でヒントを有効化する必要があります。（NO_RESULT_CACHEヒントを除く。後述）</li>
        </ul>

        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">alter</span> <span class="k">session</span> <span class="k">set</span> <span class="n">optimizer_ignore_hints</span> <span class="o">=</span> <span class="k">false</span> <span class="p">;</span>
  <span class="k">select</span> <span class="cm">/*+ xxxxx */</span> <span class="k">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">from</span> <span class="n">test_table</span> <span class="p">;</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
</ul>

<p>おすすめの検証手順としては、まずはそのままの状態で計測してください。その後、予期した性能が出ない場合に限り、ヒントの効果を確認してください。</p>

<p><br /></p>

<h2 id="result-cache結果キャッシュを無効化することはできますか">Result Cache（結果キャッシュ）を無効化することはできますか？</h2>

<p>Autonomous Data Warehouse (ADW) はDWHの高速化機能の一つであるResult Cacheがデフォルトで有効化されており、あくまでもそのままお使いいただくことを推奨しています。（Autonomous Transaction Processing(ATP)はデフォルト無効です）</p>

<p>とは言え、性能試験にてSQLの処理時間を計測したい場合、Result Cacheが有効だとどんなに時間がかかるSQLでも2回目の計測以降は1秒未満の結果となるため、Result Cacheを無効化したいケースがあります。<br />
Result Cacheを無効化したい場合は以下をお試しください。</p>

<ul>
  <li>ヒントで制御
    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">SELECT</span> <span class="cm">/*+ NO_RESULT_CACHE */</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">from</span> <span class="n">ssb</span><span class="p">.</span><span class="n">customer</span> <span class="p">;</span>
</code></pre></div>    </div>
  </li>
  <li>プロシージャで制御
    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">exec</span> <span class="n">DBMS_RESULT_CACHE</span><span class="p">.</span><span class="n">BYPASS</span><span class="p">(</span><span class="k">TRUE</span><span class="p">);</span>
  <span class="k">SELECT</span> <span class="n">DBMS_RESULT_CACHE</span><span class="p">.</span><span class="n">STATUS</span> <span class="k">FROM</span> <span class="n">DUAL</span><span class="p">;</span>  <span class="c1">-- 確認用SQL</span>
  <span class="k">SELECT</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">from</span> <span class="n">ssb</span><span class="p">.</span><span class="n">customer</span> <span class="p">;</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>ちなみに、性能試験としてResult Cacheをクリアしたい場合は以下を実施ください。
    <code class="language-plaintext highlighter-rouge">sql
    execute dbms_result_cache.flush ;
   </code></p>

<p><br /></p>

<h2 id="oracle-database-以外のdbのsqlをoracle-db用に変換するには">Oracle Database 以外のDBのSQLをOracle DB用に変換するには？</h2>

<p>簡単なSQLであれば、<a href="http://www.sqlines.com/online">Online SQL Conversion tool</a>というフリーのツールがあります。
SQL Developer のMigration Workbenchの利用もご検討ください。</p>

<p><br /></p>

<h2 id="結果件数が多いクエリはどうすればよい">結果件数が多いクエリはどうすればよい？</h2>

<p>「期待した性能が出ないんだけど、なぜ？」という問い合わせにおいて、比較的多いのがこのパターンです。</p>

<p>SQLの結果件数が多い場合、例えばCSVファイルに結果セットを書き出すといったような場合は、データベースの処理は一瞬でも、その後のデータ転送に時間がかかるケースがあります。本来比較したいデータベース自体の性能を評価できません。</p>

<p>そのような場合は、以下の2パターンを計測ください。</p>

<ul>
  <li>クライアントにデータを転送するパターン<br />
  SQL*Plusを例に記載していますが、効率よく転送するためのオプション利用をご検討ください。
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c"># FASTオプションを付与してログイン</span>
  <span class="nv">$ </span>sqlplus –s –Fast user/xxxx@yyyy_high
</code></pre></div>    </div>
    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">set</span> <span class="n">timing</span> <span class="k">on</span>
  <span class="k">set</span> <span class="n">echo</span> <span class="k">on</span>
  <span class="k">set</span> <span class="n">feedback</span> <span class="k">only</span> <span class="c1">-- 画面出力を抑制</span>
  <span class="k">set</span> <span class="n">arraysize</span> <span class="c1">-- アレイサイズを設定</span>
    
  <span class="k">select</span> <span class="n">xxxx</span> <span class="c1">-- 計測対象のSQL</span>
</code></pre></div>    </div>

    <p>詳細については<a href="https://blogs.oracle.com/otnjp/tsushima-hakushi-62">津島博士のパフォーマンス講座 第62回</a>を参照ください。</p>
  </li>
  <li>データベースとしての処理時間を計測するパターン<br />
  以下のように結果セットを他の表にロードすることで、DBからクライアントへの結果セットの転送時間の影響を排除してみてください。
    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c1">-- 結果セット格納用のワーク表を作成</span>
  <span class="k">create</span> <span class="k">table</span> <span class="n">TMP_TABLE</span> <span class="k">as</span> <span class="o">&lt;</span><span class="err">計測対象のクエリ</span><span class="o">&gt;</span> <span class="k">where</span> <span class="mi">1</span><span class="o">=</span><span class="mi">2</span> <span class="p">;</span>

  <span class="c1">-- ワーク表に対して結果セットを流し込む</span>
  <span class="k">insert</span> <span class="cm">/*+ APPEND */</span> <span class="k">into</span> <span class="n">TMP_TABLE</span> <span class="o">&lt;</span><span class="err">計測対象のクエリ</span><span class="o">&gt;</span> <span class="p">;</span>

</code></pre></div>    </div>
    <p>DBの中で処理を完結できるため、純粋にデータベースの性能を比較することが可能です。</p>
  </li>
</ul>

<p><br /></p>

<h2 id="インスタンスのキャッシュをクリアするにはどうしたらよいですか">インスタンスのキャッシュをクリアするにはどうしたらよいですか？</h2>

<p>検証実施時にデータベースのキャッシュ（Buffer Cache）による性能向上効果を排除して計測したいという背景からこのような質問を頂戴しますが、Autonomous Database は alter system による変更は基本的に許されていないため、インスタンスを再起動いただく必要があります。</p>

<p>なお、再起動に際してはGUIだけでなくOCICLIをはじめ、APIを利用して自動化することも可能です。
OCICLIでの実施方法は<a href="https://oracle-japan.github.io/ocitutorials/database/adb501-ocicli/">こちら</a>を参照ください。</p>

<p><br /></p>

<h2 id="パラレルクエリを利用して高速化したいのだがどう設定すれば良い">パラレルクエリを利用して高速化したいのだが、どう設定すれば良い？？</h2>

<p>接続サービスを選択いただきます。接続サービスに関しては<a href="https://oracle-japan.github.io/ocitutorials/database/adb201-service-names/">こちら</a>を参照ください。</p>

<ul>
  <li>HIGH / MEDIUMの接続の場合
    <ul>
      <li>自動でパラレル処理されます。</li>
    </ul>
  </li>
  <li>TPURGENTの接続の場合
    <ul>
      <li>これまで通り以下の方法でパラレル処理を設定します。
        <ul>
          <li>ヒントを利用（ただし、ADWの場合はヒントを有効化する必要があります）
            <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">alter</span> <span class="k">session</span> <span class="k">set</span> <span class="n">optimizer_ignore_parallel_hints</span> <span class="o">=</span> <span class="k">false</span> <span class="p">;</span>
  <span class="k">select</span> <span class="cm">/*+ parallel(2) */</span> <span class="k">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">from</span> <span class="n">ssb</span><span class="p">.</span><span class="n">customer</span> <span class="p">;</span>  <span class="c1">-- 括弧内はパラレル度</span>
</code></pre></div>            </div>
          </li>
          <li>表のDEGREE属性を指定する
            <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">alter</span> <span class="k">table</span> <span class="n">XXXX</span> <span class="n">degree</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="p">;</span>
</code></pre></div>            </div>
          </li>
          <li>セッション毎に指定
            <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">alter</span> <span class="k">session</span> <span class="n">enable</span><span class="p">(</span><span class="k">force</span><span class="p">)</span> <span class="n">parallel</span> <span class="n">query</span><span class="p">;</span>
  <span class="k">select</span> <span class="p">....</span> <span class="p">;</span>
</code></pre></div>            </div>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>TP/LOWの場合
    <ul>
      <li>パラレル処理はできません</li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="insert処理を高速化するにはどうしたら良いですか">INSERT処理を高速化するにはどうしたら良いですか？</h2>

<p>接続サービスを選択いただきます。接続サービスの説明に関しては<a href="https://oracle-japan.github.io/ocitutorials/database/adb201-service-names/">こちら</a>を参照ください。</p>

<ul>
  <li>MEDIUM、HIGH接続の場合
    <ul>
      <li>特に操作は不要です。
        <blockquote>
          <p>自動的にパラレル処理となり、ダイレクト・ロードが選択されるため高速に処理されます。</p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li>TPURGENT接続の場合
    <ul>
      <li>セッション毎にパラレルDMLの設定を行う。
        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">alter</span> <span class="k">session</span> <span class="n">enable</span> <span class="n">pararel</span> <span class="n">query</span><span class="p">;</span>
  <span class="k">alter</span> <span class="k">session</span> <span class="n">enable</span> <span class="n">pararel</span> <span class="n">dml</span><span class="p">;</span>
  <span class="k">insert</span>  <span class="p">....</span> <span class="p">;</span>
  <span class="k">commit</span><span class="p">;</span> <span class="c1">-- (or Rollback;)  </span>
</code></pre></div>        </div>

        <blockquote>
          <p>自動的にダイレクト・ロードとなるため、従来のAPPENDヒントは不要です。<br />
  パラレル処理後は必ずトランザクションを終了させてください。続けてInsert等の処理を実行するとエラーになります。</p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li>TP/LOW接続の場合
    <ul>
      <li>シリアル処理になります。
        <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">INSERT</span> <span class="cm">/*+ APPEND */</span> <span class="k">INTO</span> <span class="n">XXX</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">YYY</span> <span class="p">;</span>
</code></pre></div>        </div>

        <blockquote>
          <p>この場合ダイレクト・ロードにならないため、イレクト・ロードによる高速化を指定したい場合は、従来通り明示的にAPPENDヒントを指定してください。<br />
  APPENDヒントについては、alter session set optimizer_ignore_hints = false ;は不要です<br />
  なお、CTAS（Create table as select xxxx）については、デフォルトでダイレクト・ロードになり高速処理されます。<br />
  ただし、HIGH/MEDIUMを選択するか、TPURGENTについては一般的なOracle Databaseと同様でパラレルDDLの設定を事前に行う必要があります。</p>
        </blockquote>
      </li>
    </ul>
  </li>
</ul>

<p><br /></p>

<p><a href="#">ページトップに戻る</a></p>

<p><br /></p>

<h1 id="-その他-"><span style="color: brown; ">■ その他 </span></h1>
<p><br /></p>

<h2 id="autonomous-database-shared型adb-sのタイムアウトの設定は">Autonomous Database Shared型(ADB-S)のタイムアウトの設定は？</h2>

<p><a href="https://docs.oracle.com/cd/E83857_01/paas/autonomous-database/adbsa/idle-tile-limits.html#GUID-241F4C85-24E5-4F8A-B9EE-E3FCEF566D36">ドキュメント</a>に記載がありますとおり、5分以上のアイドルセッションはそれによって消費されるリソースが他のユーザに必要になると自動切断されます。またリソースが必要とされない場合でも最大で48時間にて切断されます。<br />
なお、ネットワークレイヤー、クライアントツールにおいてもタイムアウトの設定が設けられているケースがありますので、予期せず切断されているような場合は、それらも併せてご確認ください。
またそのような場合の一般的な回避策としてはクライアントツールにおけるKeepAliveパラメータの設定があります。</p>

<p><br /></p>

<h2 id="autonomous-databaseインスタンスを削除するには">Autonomous Databaseインスタンスを削除するには？</h2>

<p>Autonomous Databaseインスタンスを削除（利用終了, Terminate）するには、お客様にてインスタンスの終了（Terminate）を実施いただきます。終了の手順は<a href="https://docs.oracle.com/ja-jp/iaas/Content/Database/Tasks/adbmanaging.htm#console">こちら</a>に記載があります。</p>

<p>なお、自動バックアップもインスタンスと一緒に削除されます。また手動バックアップ（課金対象）があれば、個別にオブジェクト・ストレージ上のバケットからデータを削除いただく必要がありますのでご注意ください。</p>

<p><br /></p>

<p><a href="#">ページトップに戻る</a></p>

<p><br /></p>

<p>以上</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> タグ: </strong>
    <span itemprop="keywords">
    
      <a href="/ocidocs/tags/#faq" class="page__taxonomy-item" rel="tag">FAQ</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> カテゴリー: </strong>
    <span itemprop="keywords">
    
      <a href="/ocidocs/categories/#autonomous" class="page__taxonomy-item" rel="tag">Autonomous</a><span class="sep">, </span>
    
      <a href="/ocidocs/categories/#faq" class="page__taxonomy-item" rel="tag">FAQ</a><span class="sep">, </span>
    
      <a href="/ocidocs/categories/#services" class="page__taxonomy-item" rel="tag">services</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> 更新日時:</strong> <time datetime="2023-03-09T00:00:00+09:00">March 9, 2023</time></p>


      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">共有</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Autonomous+Database+%E6%8A%80%E8%A1%93FAQ%20https%3A%2F%2Foracle-japan.github.io%2Focidocs%2Ffaq%2Fservices%2Fautonomous%2Fautonomous-database-faq%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="共有 Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Foracle-japan.github.io%2Focidocs%2Ffaq%2Fservices%2Fautonomous%2Fautonomous-database-faq%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="共有 Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Foracle-japan.github.io%2Focidocs%2Ffaq%2Fservices%2Fautonomous%2Fautonomous-database-faq%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="共有 LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/ocidocs/updates/update-FY23Q3/" class="pagination--pager" title="Oracle Cloud Infrastructure IaaS 新機能アップデート 2023/12～2023/2
">前へ</a>
    
    
      <a href="#" class="pagination--pager disabled">次へ</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">関連記事</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://files.speakerdeck.com/presentations/72cbe0de33d74c10a5891514158567d1/slide_0.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ocidocs/updates/update-FY23Q3/" rel="permalink">Oracle Cloud Infrastructure IaaS 新機能アップデート 2023/12～2023/2
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2023-03-07T00:00:00+09:00">March 7, 2023</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">2022年12月～2023年2月の3ヶ月分のOCI新機能についてのまとめ資料です
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://speakerd.s3.amazonaws.com/presentations/6c98468ba01145949e75ccfc25242d27/slide_0.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ocidocs/solutions/others/design-guide-for-csps/" rel="permalink">CSPモデルにおけるOCI設計ガイドライン
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-12-28T00:00:00+09:00">December 28, 2022</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Cloud Solutions Provider (CSP) モデルでOracle Cloud Infrastructureを利用するにあたって、設計上の考慮事項をまとめた資料です
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://speakerd.s3.amazonaws.com/presentations/052c7b6821624e8bb362168913a8f6b2/slide_0.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ocidocs/solutions/security/OCISecurity/" rel="permalink">OCI Securityサービス技術概要
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-12-20T00:00:00+09:00">December 20, 2022</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">2022年12月時点での、OCI Security の各サービスの特徴を網羅的に紹介する資料です
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="https://speakerd.s3.amazonaws.com/presentations/69c6d8709c684fcbb2b488fc0b9002c5/slide_0.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ocidocs/solutions/security/NetworkFirewall/" rel="permalink">OCI Network Firewall概要
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-12-20T00:00:00+09:00">December 20, 2022</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">OCI Network Firewallのテクニカルな概要資料です
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="検索キーワードを入力してください..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>フォロー</strong></li>
    

    
      
        
          <li><a href="https://twitter.com/#ocijp" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/oracle-japan" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/ocidocs/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2023 Oracle Cloud Infrastructure 活用資料集. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/ocidocs/assets/js/main.min.js"></script>




<script src="/ocidocs/assets/js/lunr/lunr.min.js"></script>
<script src="/ocidocs/assets/js/lunr/lunr-store.js"></script>
<script src="/ocidocs/assets/js/lunr/lunr-en.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VWKLFQKQEL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VWKLFQKQEL', { 'anonymize_ip': false});
</script>







  
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
  
    <script src="/ocidocs/assets/js/clipboardrouge.js"></script>
  



  </body>
</html>
